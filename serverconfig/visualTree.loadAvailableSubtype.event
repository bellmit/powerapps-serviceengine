<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec count="1" type="createlist"/>
 <exec statement="getTrue" type="select"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TREE_TYPE_ID" operator="=" rhsvalue="1"/>
  </conditions>
  <exec argument="ALL_SUBTYPE_LIST" query="getTreeSmsSubtypes" type="query"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TREE_TYPE_ID" operator="=" rhsvalue="2"/>
  </conditions>
  <exec argument="ALL_SUBTYPE_LIST" query="getTreeLetterSubtypes" type="query"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TREE_TYPE_ID" operator="=" rhsvalue="3"/>
  </conditions>
  <exec argument="ALL_SUBTYPE_LIST" query="getTreeVisitationSubtypes" type="query"/>
 </exec>
 <exec from="TRUE" key="OPEN_AVAILABLE_SUBTYPE" type="copyintolist"/>
 <exec from="ALL_SUBTYPE_LIST" to="AVAILABLE_SUBTYPE_LIST" type="copy"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="SUBTYPE_LIST" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec key="ID" minuend="ALL_SUBTYPE_LIST" subtrahend="SUBTYPE_LIST" to="AVAILABLE_SUBTYPE_LIST" type="remove"/>
 </exec>
 <exec from="AVAILABLE_SUBTYPE_LIST" key="AVAILABLE_SUBTYPE_LIST" type="copyintolist"/>
</event>
