<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="true" to="FIRST_OF_MONTH" truncate="true" type="date"/>
 <exec ceiling="false" endmonth="true" nextweekday="false" startmonth="false" to="END_OF_MONTH" truncate="true" type="date"/>
 <exec event="util.getTlastIds" ignoreresult="true" type="raise"/>
 <exec argument="MAIN_ACCOUNT_LIST" query="getWlmAccountsPortfolio" type="query"/>
 <exec from="MAIN_ACCOUNT_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
 <exec list="ACCOUNT_LIST" to="COUNT_ACCOUNT_LIST" type="countlist"/>
 <exec message="false" target="IS_CTI_EXTRACTION" type="formattext"/>
 <exec from="FIRST_OF_MONTH" key="FIRST_OF_MONTH" to="ACCOUNT_LIST" type="copyintolist"/>
 <exec from="END_OF_MONTH" key="END_OF_MONTH" to="ACCOUNT_LIST" type="copyintolist"/>
 <exec from="COUNT_ACCOUNT_LIST" key="COUNT_ACCOUNT_LIST" to="ACCOUNT_LIST" type="copyintolist"/>
 <exec from="IS_CTI_EXTRACTION" key="IS_CTI_EXTRACTION" to="ACCOUNT_LIST" type="copyintolist"/>
 <exec size="1500" source="ACCOUNT_LIST" target="DIVIDED_ACCOUNT_LIST" type="dividelist"/>
 <exec argument="DIVIDED_ACCOUNT_LIST" type="loop">
  <exec type="guard">
   <conditions>
    <condition lhsfield="COUNT_ACCOUNT_LIST" operator="&lt;&gt;" rhsvalue="0"/>
   </conditions>
   <exec type="parallelquery">
    <query value="getWlmSiDetailsPortfolio"/>
    <query value="getHostPdcDateForCurrentMonthPortfolio"/>
    <query value="getWlmCScoreRef"/>
    <query value="getLatestSpecialStatusPortfolio"/>
    <query value="getWorkListAssignmentOpeningDetailsPortfolio"/>
    <query value="getWorkListManagerHouseNumberPortfolio"/>
    <query value="getWorkListManagerMobileNumberPortfolio"/>
    <query value="getWorkListManagerOfficeNumberPortfolio"/>
    <query value="getWorkListManagerRODatePortfolio"/>
    <query value="getWorkListManagerFSDatePortfolio"/>
    <query value="getWorkListManagerNIDatePortfolio"/>
    <query value="getWorkListManagerLastPtpAndCallDetailsPortfolio"/>
    <query value="getWlmWorkListUserNamePortfolio"/>
    <query value="getWlmAgencyAssignmentDatePortfolio"/>
    <query value="getWlmIlBdrOutlookSummaryPortfolio"/>
    <query value="getCurrentMonthTotalPaymentPortfolio"/>
    <query value="getAccountWorkListConfidenceLevelPortfolio"/>
    <query value="getWlmLegalStatusAndStatusDatePortfolio"/>
    <target value="WLM_ACCOUNT_SI_LIST"/>
    <target value="WLM_ACCOUNT_HOST_PDC_LIST"/>
    <target value="WLM_CSCORE_REF_LIST"/>
    <target value="WLM_SPECIAL_STATUS_LIST"/>
    <target value="WLM_OPENING_LIST"/>
    <target value="HOUSE_NO_LIST"/>
    <target value="MOBILE_NO_LIST"/>
    <target value="OFFICE_NO_LIST"/>
    <target value="WLM_RO_DATE_LIST"/>
    <target value="WLM_FS_DATE_LIST"/>
    <target value="WLM_NI_DATE_LIST"/>
    <target value="WLM_LAST_PTP_LIST"/>
    <target value="WLM_WORK_LIST_NAME_LIST"/>
    <target value="WLM_AGENCY_ASSIGNMENT_LIST"/>
    <target value="WLM_OUTLOOK_LIST"/>
    <target value="WLM_MONTHLY_PAYMENT_LIST"/>
    <target value="WLM_PRE_IL_SCORING_LIST"/>
    <target value="WLM_LEGAL_STATUS_LIST"/>
   </exec>
   <exec argument="LAST_PAYMENT_LIST" query="getlatestPaymentAmtForWorkListPortfolio" type="query"/>
   <exec argument="LAST_REVIEW_DATE_LIST" query="getSupervisorAccountReviewDatePortfolio" type="query"/>
   <exec argument="ACTIVE_PAYMENT_PLAN_LIST" query="getActivePaymentPlanAccountForWorkListPortfolio" type="query"/>
   <exec argument="SI_STATUS_LIST" query="getSIStatusForWorklist-Portfolio" type="query"/>
   <exec statement="getWlmDefaultUser" type="select"/>
   <exec argument="WLM_OUTLOOK_LIST" type="loop">
    <exec type="guard">
     <conditions>
      <condition lhsfield="IL_BDR_ACCOUNT_TYPE" operator="=" rhsvalue="IL"/>
     </conditions>
     <exec from="IL_BDR_CONF_LEVEL" to="IL_CONFIDENCE_LEVEL" type="copy"/>
    </exec>
    <exec type="guard">
     <conditions>
      <condition lhsfield="IL_BDR_ACCOUNT_TYPE" operator="=" rhsvalue="BDR"/>
     </conditions>
     <exec from="IL_BDR_CONF_LEVEL" to="BDR_CONFIDENCE_LEVEL" type="copy"/>
    </exec>
   </exec>
   <exec from="WLM_ACCOUNT_SI_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_WORK_LIST_NAME_LIST" key="WORK_LIST_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_ACCOUNT_HOST_PDC_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_CSCORE_REF_LIST" key="CSCORE_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_SPECIAL_STATUS_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_OPENING_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="HOUSE_NO_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="MOBILE_NO_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="OFFICE_NO_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_RO_DATE_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_FS_DATE_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_NI_DATE_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_LAST_PTP_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_AGENCY_ASSIGNMENT_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_OUTLOOK_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_MONTHLY_PAYMENT_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_PRE_IL_SCORING_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="LAST_PAYMENT_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="WLM_LEGAL_STATUS_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="LAST_REVIEW_DATE_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="ACTIVE_PAYMENT_PLAN_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="SI_STATUS_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="HP"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerHpUplMiaPortfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="HP_IL"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerHpUplMiaPortfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="UPL"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerHpUplMiaPortfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="UPL_IL"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerHpUplMiaPortfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="MG"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerMgOdMiaPortfolio" type="query"/>
    <exec argument="ACCOUNT_STATUS_LIST" query="getWorkListManagerMgAccountStatus-Portfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="MG_IL"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerMgOdMiaPortfolio" type="query"/>
    <exec argument="ACCOUNT_STATUS_LIST" query="getWorkListManagerMgAccountStatus-Portfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="OD"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerMgOdMiaPortfolio" type="query"/>
    <exec argument="ACCOUNT_STATUS_LIST" query="getWorkListManagerOdAccountStatus-Portfolio" type="query"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="WORK_LIST_GROUP_CODE" operator="=" rhsvalue="OD_IL"/>
    </conditions>
    <exec argument="ACCOUNT_MIA_LIST" query="getWorkListManagerMgOdMiaPortfolio" type="query"/>
    <exec argument="ACCOUNT_STATUS_LIST" query="getWorkListManagerOdAccountStatus-Portfolio" type="query"/>
   </exec>
   <exec from="ACCOUNT_MIA_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="ACCOUNT_STATUS_LIST" key="ACCOUNT_ID" to="ACCOUNT_LIST" type="merge"/>
   <exec from="DEFAULT_USER_NAME" key="DEFAULT_USER_NAME" to="ACCOUNT_LIST" type="copyintolist"/>
   <exec from="DEFAULT_USER_NAME" key="DEFAULT_USER_ID" to="ACCOUNT_LIST" type="copyintolist"/>
  </exec>
 </exec>
 <exec argument="ACCOUNT_LIST" type="loop">
  <exec from="AGREEMENT_NUMBER" to="ACCOUNT_NUMBER" type="copy"/>
  <exec from="HIRER_NAME" to="CUSTOMER_NAME" type="copy"/>
  <exec from="MONTHS_IN_ARREARS" to="MIA" type="copy"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="FS_DATE" operator="is empty" rhsvalue=""/>
   </conditions>
   <exec type="nullify">
    <key value="NI_DATE"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="NI_DATE" operator="is not empty" rhsvalue=""/>
    <condition lhsfield="FS_DATE" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec type="guard">
    <conditions>
     <condition lhsfield="NI_DATE" operator="less than value of" rhsvalue="FS_DATE"/>
    </conditions>
    <exec type="nullify">
     <key value="NI_DATE"/>
    </exec>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="NI_DATE" operator="is empty" rhsvalue=""/>
   </conditions>
   <exec type="nullify">
    <key value="RO_DATE"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="RO_DATE" operator="is not empty" rhsvalue=""/>
    <condition lhsfield="NI_DATE" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec type="guard">
    <conditions>
     <condition lhsfield="RO_DATE" operator="less than value of" rhsvalue="NI_DATE"/>
    </conditions>
    <exec type="nullify">
     <key value="RO_DATE"/>
    </exec>
   </exec>
  </exec>
  <exec from="CONFIDENCE_LEVEL" to="PRE_IL_SCORING" type="copy"/>
  <exec event="legal.getLegalStatus" ignoreresult="true" type="raise"/>
 </exec>
</event>
