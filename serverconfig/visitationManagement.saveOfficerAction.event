<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="true" type="event">
 <exec count="1" type="createlist"/>
 <exec to="USER_ID" type="user"/>
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" truncate="false" type="date"/>
 <exec statement="getVouVisitationStaffName" type="select"/>
 <exec from="TYPE_STATUS_ID" key="TYPE_STATUS_ID" to="RESULT_LIST" type="copyintolist"/>
 <exec from="STATUS_ID" key="STATUS_ID" to="RESULT_LIST" type="copyintolist"/>
 <exec from="VISITATION_STAFF_NAME" key="VISITATION_STAFF_NAME" to="RESULT_LIST" type="copyintolist"/>
 <exec from="TRUE" key="TRUE" to="RESULT_LIST" type="copyintolist"/>
 <exec from="FALSE" key="FALSE" to="RESULT_LIST" type="copyintolist"/>
 <exec from="USER_ID" key="USER_ID" to="RESULT_LIST" type="copyintolist"/>
 <exec from="USER_ID" key="UPDATED_USER_ID" to="RESULT_LIST" type="copyintolist"/>
 <exec from="CURRENT_DATE" key="UPDATED_TIME" to="RESULT_LIST" type="copyintolist"/>
 <exec from="TEMPLATE_VERSION_ID" key="TEMPLATE_VERSION_ID" to="RESULT_LIST" type="copyintolist"/>
 <exec text="Image 1" type="comment">
  <exec type="guard">
   <conditions>
    <condition lhsfield="BROWSE_FILE_1" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec count="1" to="IMAGE_1" type="createlist"/>
   <exec content="BROWSE_FILE_1" documentid="DOCUMENT_ID_1" documenttype="5" type="storebinarydocument"/>
   <exec from="DOCUMENT_ID_1" key="DOCUMENT_ID" to="IMAGE_1" type="copyintolist"/>
   <exec from="BROWSE_FILE_1" regex=".*\\" replacement="" to="BROWSE_FILE_1" type="regexreplace"/>
   <exec from="DOCUMENT_ID_1" key="DOCUMENT_ID_1" to="RESULT_LIST" type="copyintolist"/>
   <exec from="BROWSE_FILE_1" key="FILE_NAME" to="IMAGE_1" type="copyintolist"/>
   <exec from="DESCRIPTION_1" key="DESCRIPTION" to="IMAGE_1" type="copyintolist"/>
   <exec from="IMAGE_1" to="IMAGES" type="append"/>
  </exec>
 </exec>
 <exec text="Image 2" type="comment">
  <exec type="guard">
   <conditions>
    <condition lhsfield="BROWSE_FILE_2" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec count="1" to="IMAGE_2" type="createlist"/>
   <exec content="BROWSE_FILE_2" documentid="DOCUMENT_ID_2" documenttype="5" type="storebinarydocument"/>
   <exec from="DOCUMENT_ID_2" key="DOCUMENT_ID" to="IMAGE_2" type="copyintolist"/>
   <exec from="BROWSE_FILE_2" regex=".*\\" replacement="" to="BROWSE_FILE_2" type="regexreplace"/>
   <exec from="DOCUMENT_ID_2" key="DOCUMENT_ID_2" to="RESULT_LIST" type="copyintolist"/>
   <exec from="BROWSE_FILE_2" key="FILE_NAME" to="IMAGE_2" type="copyintolist"/>
   <exec from="DESCRIPTION_2" key="DESCRIPTION" to="IMAGE_2" type="copyintolist"/>
   <exec from="IMAGE_2" to="IMAGES" type="append"/>
  </exec>
 </exec>
 <exec from="IMAGES" key="IMAGES" to="RESULT_LIST" type="copyintolist"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="LOCATION" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="LOCATION" key="LOCATION" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="HOUSE_OUTLOOK" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="HOUSE_OUTLOOK" key="HOUSE_OUTLOOK" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="HOUSE_TYPE" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="HOUSE_TYPE" key="HOUSE_TYPE" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="HOUSE_INTERIOR" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="HOUSE_INTERIOR" key="HOUSE_INTERIOR" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="MBSB_CAR" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="MBSB_CAR" key="MBSB_CAR" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="OTHER_VEHICLE" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="OTHER_VEHICLE" key="OTHER_VEHICLES" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="LOCATION" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="LOCATION" key="LOCATION" to="RESULT_LIST" type="copyintolist"/>
 </exec>
 <exec argument="RESULT_LIST" type="loop">
  <exec event="treatment.save" ignoreresult="true" type="raisewith"/>
  <exec from="ACCOUNT_ID" key="ACCOUNT_ID" to="IMAGES" type="copyintolist"/>
  <exec from="USER_ID" key="USER_ID" to="IMAGES" type="copyintolist"/>
  <exec from="TREATMENT_ID" key="TREATMENT_ID" to="IMAGES" type="copyintolist"/>
  <exec argument="IMAGES" type="loop">
   <exec statement="insertVouImage" type="insert"/>
  </exec>
 </exec>
 <exec from="TRUE" key="CLOSE" type="copyintolist"/>
 <exec from="TRUE" key="TreatmentWorkpadRefresh" type="copyintolist"/>
</event>
