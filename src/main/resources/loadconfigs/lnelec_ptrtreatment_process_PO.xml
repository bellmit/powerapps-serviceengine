<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<load delimiter="" fullcache="false" mode="mixed" padline="true" type="fixed" verifyfilekey="false">
 <doc/>
 <table>PTRTREATMENT_PROCESS</table>
 <recordindicatortag/>
 <xquery/>
 <generatedkey>TREATMENT_PROCESS_ID</generatedkey>
 <generatedkeyseqname>PTRTREATMENT_PROCESS_ID</generatedkeyseqname>
 <querywhere>
  <select/>
  <update/>
 </querywhere>
 <post>
  <insertinsertion><query>insert into ptrpayoff_inquiry (TREATMENT_PROCESS_ID) values (#TREATMENT_PROCESS_ID#)
   </query>
   </insertinsertion>
  <insertupdate/>
  <updateinsertion/>
  <updateupdate/> 
 </post>
 <header/>
 <trailer/>

<field isexternal="true">
 <name>ACCOUNT_NUMBER</name>
 <default/>
 <location end="20" start="2"/>
 <handler config="" name="com.profitera.dc.handler.StringHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isexternal="true">
 <name>ACCOUNT_TYPE_ID</name>
 <default/>
 <location end="21" start="21"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup>
  <query isoptional="false">
   select id from ptraccount_type_ref where code = #ACCOUNT_TYPE_ID#</query>
 </lookup>
 <remarks/>
 </field>
<field iskey="true">
 <name>ACCOUNT_ID</name>
 <default/>
 <location end="0" start="0"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup>
  <query isoptional="false">
   select account_id from ptraccount where account_number = #ACCOUNT_NUMBER:VARCHAR# and ACCOUNT_TYPE_ID = #ACCOUNT_TYPE_ID:VARCHAR#</query>
 </lookup>
 <remarks/>
 </field>

<field iskey="true">
 <name>TREATMENT_PLAN_ID</name>
 <default/>
 <location end="0" start="0"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup>
  <query isoptional="false">
   select min(treatment_plan_id) from ptracc_treatment_plan where account_id = #ACCOUNT_ID# and MONTH(TREATMENT_START_DATE)=MONTH(CURRENT DATE) and YEAR(TREATMENT_START_DATE)=YEAR(CURRENT DATE)</query>
   <fullcache/>
   <insert>insert into ptracc_treatment_plan (account_id, treatment_start_date, treatment_end_date, treatment_plan_id, description, last_treatment_action_id, last_treatment_result_id, treatment_stream_id, node_location) values (#ACCOUNT_ID#, rtrim(char(year(current date)))||'-'||rtrim(substr(char(100 + month(current date)),2,3))||'-'||'01-00.00.00.000000', rtrim(char(year(current date)))|| '-'||rtrim(substr(char(100 + month(current date)),2,3))||'-'||rtrim(char(day((current date + 1 month) -(day(current date + 1 month)) days)))||'-23.59.59.999999', #ID#, 'Generated by Dataloader', null, null, null, null)
    </insert>
   <insertkey>select nextval('ptracc_treatment_plan_id')</insertkey>
  </lookup>
 <remarks/>
 </field>
<field iskey="true">
 <name>PROCESS_TYPE_ID</name>
 <default>24</default>
 <location end="0" start="0"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="false">
 <name>PROCESS_STATUS_ID</name>
 <default>15004</default>
 <location end="0" start="0"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="false">
 <name>PROCESS_TYPE_STATUS_ID</name>
 <default></default>
 <location end="0" start="0"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup>
  <query>select treatproc_type_status_id from ptrtreat_proc_type_status_ref where treatproc_type_id = 24 and treatproc_status_id = 15004 
   </query>
  </lookup>
 <remarks/>
 </field>
<field iskey="true">
 <name>PROCESS_SUBTYPE_ID</name>
 <default></default>
 <location end="126" start="125"/>
 <handler config="" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron>
  <value>PO</value>
  </filteron>
 <lookup>
  <query>select TREATPROC_SUBTYPE_ID from ptrtreatproc_subtype_ref where treatproc_type_code = 'PAYOFF_INQUIRY'
   </query>
  </lookup>
 <remarks/>
 </field>
<!-- 
<field isoptional="true">
 <name>DATE_LOGGED</name>
 <default/>
 <location end="28" start="22"/>
 <handler config="yyyyDDD" name="com.profitera.dc.handler.LongHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
--> 
<field isoptional="true">
 <name></name>
 <default/>
 <location end="34" start="29"/>
 <handler config="hhMMss" name="com.profitera.dc.handler.DefaultDateHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name>USER_ID</name>
 <default/>
 <location end="44" start="35"/>
 <handler config="" name="com.profitera.dc.handler.StringHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name>EXPECTED_START_DATE</name>
 <default/>
 <location end="50" start="45"/>
 <handler config="ddMMyy" name="com.profitera.dc.handler.DefaultDateHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name>ACTUAL_START_DATE</name>
 <default/>
 <location end="50" start="45"/>
 <handler config="ddMMyy" name="com.profitera.dc.handler.DefaultDateHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name>ACTUAL_END_DATE</name>
 <default/>
 <location end="50" start="45"/>
 <handler config="ddMMyy" name="com.profitera.dc.handler.DefaultDateHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
 
<field isoptional="true">
 <name>AGENT_ID</name>
 <default/>
 <location end="58" start="51"/>
 <handler config="" name="com.profitera.dc.handler.StringHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name>EFFECTIVE_DATE</name>
 <default/>
 <location end="64" start="59"/>
 <handler config="ddMMyy" name="com.profitera.dc.handler.DefaultDateHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="80" start="65"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="94" start="81"/>
 <handler config="" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="108" start="95"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="124" start="109"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="142" start="127"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="158" start="143"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="174" start="159"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="190" start="175"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="204" start="191"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="218" start="205"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="220" start="219"/>
 <handler config="" name="com.profitera.dc.handler.StringHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
<field isoptional="true">
 <name></name>
 <default/>
 <location end="234" start="221"/>
 <handler config="2" name="com.profitera.dc.handler.CurrencyHandler"/>
 <nulldefinition/>
 <filteron/>
 <lookup/>
 <remarks/>
 </field>
 

<field cache="true" isexternal="false" iskey="false" isoptional="false">
  <name>LOAD_EXECUTION_ID</name>
  <default>_</default>
  <location end="0" start="0"/>
  <handler config="" name="com.profitera.dc.handler.LongHandler"/>
  <nulldefinition/>
  <filteron/>
  <lookup isoptional="false">
   <query>select ID from PTRLOAD_EXECUTION where #LOAD_EXECUTION_ID# = null</query>
   <fullcache/>
   <insert>insert into PTRLOAD_EXECUTION (ID) values (#ID#)</insert>
   <insertkey>select nextval('PTRLOAD_EXECUTION_ID')</insertkey>
  </lookup>
 </field>
</load>
