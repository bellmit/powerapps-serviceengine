<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec statement="getTreatmentTps" type="select"/>
 <exec type="parallelquery">
  <query value="getTreatmentTpsCustomers"/>
  <query value="getTreatmentTpsInternal"/>
  <target value="CUSTOMER_LIST"/>
  <target value="TPS_INTERNAL_LIST"/>
 </exec>
 <exec from="TEMPLATE_LIST" key="TEMPLATES" to="SUBTYPE_LIST" type="copyintolist"/>
 <exec argument="SUBTYPE_LIST" type="loop">
  <exec message="TPS_INT" target="TPS_INT" type="formattext"/>
  <exec message="TPS_EXT" target="TPS_EXT" type="formattext"/>
  <exec message="HIDE" target="INTERNAL" type="formattext"/>
  <exec message="HIDE" target="EXTERNAL" type="formattext"/>
  <exec message="HIDE" target="TABLE_REGION" type="formattext"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="CODE" operator="=" rhsvalue="TPS_INT"/>
   </conditions>
   <exec message="SHOW" target="INTERNAL" type="formattext"/>
   <exec message="SHOW" target="TABLE_REGION" type="formattext"/>
   <exec key="CODE" minuend="TEMPLATES" subtrahend="TPS_EXT" to="TEMPLATE_LIST" type="remove"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="CODE" operator="=" rhsvalue="TPS_EXT"/>
   </conditions>
   <exec message="SHOW" target="EXTERNAL" type="formattext"/>
   <exec key="CODE" minuend="TEMPLATES" subtrahend="TPS_INT" to="TEMPLATE_LIST" type="remove"/>
  </exec>
 </exec>
</event>
