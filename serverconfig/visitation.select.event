<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec statement="getTreatmentVisitation" type="select"/>
 <exec statement="getTreatmentVisitationCount" type="select"/>
 <exec type="parallelquery">
  <query value="getDefaultTreatmentStatusType"/>
  <query value="getDefaultTreatmentSubType"/>
  <query value="getTreatmentCustomers"/>
  <query value="getTreatmentTemplate"/>
  <query value="getLetterAddressCorrespondence"/>
  <target value="TYPE_STATUS_LIST"/>
  <target value="SUBTYPE_LIST"/>
  <target value="SEND_TO_LIST"/>
  <target value="TEMPLATE_LIST"/>
  <target value="ADDRESS_LIST"/>
 </exec>
 <exec type="parallelquery">
  <query value="getVisitationState"/>
  <query value="getVisitationArea"/>
  <query value="getVisitationResidentRace"/>
  <query value="getTreatmentUploadedDocumentsForSelection"/>
  <query value="getVisitationPurpose"/>
  <target value="STATE_LIST"/>
  <target value="AREA_LIST"/>
  <target value="RESIDENT_RACE_LIST"/>
  <target value="DOCUMENT_ATTACHMENT_SELECTION_LIST"/>
  <target value="VISITATION_PURPOSE_LIST"/>
 </exec>
 <exec argument="STATE_LIST" type="loop">
  <exec from="ID" to="STATE_ID" type="copy"/>
 </exec>
 <exec from="AREA_LIST" key="STATE_ID" target="AREA_LIST" to="STATE_LIST" type="groupedmerge"/>
 <exec event="letter.getFullAddress" ignoreresult="true" type="raisewith"/>
 <exec argument="ADDRESS_LIST" type="loop">
  <exec event="letter.getFullAddress" ignoreresult="true" type="raisewith"/>
 </exec>
</event>
