<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="parallelquery">
  <query value="getTreatmentPrerequisiteSecuredAccountsTable1"/>
  <query value="getTreatmentPrerequisiteSecuredAccountsTable2"/>
  <target value="TABLE_1_SECURED_LOANS"/>
  <target value="TABLE_2_SECURED_LOANS"/>
 </exec>
 <exec text="table 1" type="comment">
  <exec type="guard">
   <conditions>
    <condition lhsfield="TABLE_1_UNSECURED_LOANS" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec text="preparing for sub totals" type="comment">
    <exec key="PRINCIPAL_AMOUNT" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" type="sumlist"/>
    <exec key="INTEREST_IN_SUSPENSE_AMOUNT" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" type="sumlist"/>
    <exec key="OTHER_CHARGES" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_OTHER_CHARGES" type="sumlist"/>
    <exec key="OS_AMOUNT" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_OS_AMOUNT" type="sumlist"/>
    <exec key="INSTALLMENT_AMOUNT" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" type="sumlist"/>
    <exec key="PENALTY_INTEREST_AMOUNT" list="TABLE_1_UNSECURED_LOANS" to="UNSECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" type="sumlist"/>
    <exec count="1" to="TABLE_1_UNSECURED_TOTAL" type="createlist"/>
    <exec message="Sub Total" target="LOAN_TYPE" type="formattext"/>
    <exec from="LOAN_TYPE" key="LOAN_TYPE" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" key="PRINCIPAL_AMOUNT" to="TABLE_1_UNSECURED_LOANS" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" key="INTEREST_IN_SUSPENSE_AMOUNT" to="TABLE_1_UNSECURED_TOTAL" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_OTHER_CHARGES" key="OTHER_CHARGES" to="TABLE_1_UNSECURED_TOTAL" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_OS_AMOUNT" key="OS_AMOUNT" to="TABLE_1_UNSECURED_TOTAL" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" key="INSTALLMENT_AMOUNT" to="TABLE_1_UNSECURED_TOTAL" type="copyintolist"/>
    <exec from="UNSECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" key="PENALTY_INTEREST_AMOUNT" to="TABLE_1_UNSECURED_TOTAL" type="copyintolist"/>
    <exec from="TABLE_1_UNSECURED_TOTAL" to="TABLE_1_UNSECURED_LOANS" type="append"/>
   </exec>
   <exec count="1" to="UNSECURED_TABLE_1" type="createlist"/>
   <exec from="TABLE_1_UNSECURED_LOANS" to="UNSECURED_TABLE_1" type="append"/>
   <exec from="UNSECURED_TABLE_1" to="PREREQUISITE_TABLE_1" type="append"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="TABLE_1_SECURED_LOANS" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec text="preparing for sub totals" type="comment">
    <exec key="PRINCIPAL_AMOUNT" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" type="sumlist"/>
    <exec key="INTEREST_IN_SUSPENSE_AMOUNT" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" type="sumlist"/>
    <exec key="OTHER_CHARGES" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_OTHER_CHARGES" type="sumlist"/>
    <exec key="OS_AMOUNT" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_OS_AMOUNT" type="sumlist"/>
    <exec key="INSTALLMENT_AMOUNT" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" type="sumlist"/>
    <exec key="PENALTY_INTEREST_AMOUNT" list="TABLE_1_SECURED_LOANS" to="SECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" type="sumlist"/>
    <exec count="1" to="TABLE_1_SECURED_TOTAL" type="createlist"/>
    <exec message="Sub Total" target="LOAN_TYPE" type="formattext"/>
    <exec from="LOAN_TYPE" key="LOAN_TYPE" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" key="PRINCIPAL_AMOUNT" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" key="INTEREST_IN_SUSPENSE_AMOUNT" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_OTHER_CHARGES" key="OTHER_CHARGES" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_OS_AMOUNT" key="OS_AMOUNT" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" key="INSTALLMENT_AMOUNT" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="SECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" key="PENALTY_INTEREST_AMOUNT" to="TABLE_1_SECURED_TOTAL" type="copyintolist"/>
    <exec from="TABLE_1_SECURED_TOTAL" to="TABLE_1_SECURED_LOANS" type="append"/>
   </exec>
   <exec count="1" to="SECURED_TABLE_1" type="createlist"/>
   <exec from="TABLE_1_SECURED_LOANS" to="SECURED_TABLE_1" type="append"/>
   <exec from="SECURED_TABLE_1" to="PREREQUISITE_TABLE_1" type="append"/>
   <exec type="guard">
    <conditions>
     <condition lhsfield="PREREQUISITE_TABLE_1" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec text="total for table 1" type="comment">
     <exec lhs="SECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" rhs="UNSECURED_SUB_TOTAL_INSTALLMENT_AMOUNT" target="TOTAL_INSTALLMENT_AMOUNT" type="add"/>
     <exec lhs="SECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" rhs="UNSECURED_SUB_TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" target="TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" type="add"/>
     <exec lhs="SECURED_SUB_TOTAL_OS_AMOUNT" rhs="UNSECURED_SUB_TOTAL_OS_AMOUNT" target="TOTAL_OS_AMOUNT" type="add"/>
     <exec lhs="SECURED_SUB_TOTAL_OTHER_CHARGES" rhs="UNSECURED_SUB_TOTAL_OTHER_CHARGES" target="TOTAL_OTHER_CHARGES" type="add"/>
     <exec lhs="SECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" rhs="UNSECURED_SUB_TOTAL_PENALTY_INTEREST_AMOUNT" target="TOTAL_PENALTY_INTEREST_AMOUNT" type="add"/>
     <exec lhs="SECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" rhs="UNSECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" target="TOTAL_PRINCIPAL_AMOUNT" type="add"/>
     <exec count="1" to="TABLE_1_TOTAL" type="createlist"/>
     <exec message="Total" target="LOAN_TYPE" type="formattext"/>
     <exec from="LOAN_TYPE" key="LOAN_TYPE" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TOTAL_INSTALLMENT_AMOUNT" key="INSTALLMENT_AMOUNT" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TOTAL_INTEREST_IN_SUSPENSE_AMOUNT" key="INTEREST_IN_SUSPENSE_AMOUNT" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TOTAL_OS_AMOUNT" key="OS_AMOUNT" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TOTAL_OTHER_CHARGES" key="OTHER_CHARGES" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TOTAL_PENALTY_INTEREST_AMOUNT" key="PENALTY_INTEREST_AMOUNT" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="SECURED_SUB_TOTAL_PRINCIPAL_AMOUNT" key="PRINCIPAL_AMOUNT" to="TABLE_1_TOTAL" type="copyintolist"/>
     <exec from="TABLE_1_TOTAL" to="PREREQUISITE_TABLE_1" type="append"/>
    </exec>
   </exec>
  </exec>
 </exec>
 <exec text="O/S 1, O/S 2 and Grand Total Balance" type="comment">
  <exec key="OS_AMOUNT" list="TABLE_1_SECURED_TOTAL" to="TOTAL_BALANCE_1" type="sumlist"/>
  <exec key="OS_AMOUNT" list="TABLE_2_SECURED_TOTAL" to="TOTAL_BALANCE_2" type="sumlist"/>
  <exec lhs="TOTAL_BALANCE_1" rhs="TOTAL_BALANCE_2" target="GRAND_TOTAL" type="add"/>
  <exec from="TOTAL_BALANCE_1" key="TOTAL_BALANCE_1" type="copyintolist"/>
  <exec from="TOTAL_BALANCE_2" key="TOTAL_BALANCE_2" type="copyintolist"/>
  <exec from="GRAND_TOTAL" key="GRAND_TOTAL" type="copyintolist"/>
 </exec>
</event>
