<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="true" type="event">
 <exec count="1" type="createlist"/>
 <exec from="TRUE" key="TRUE" type="copyintolist"/>
 <exec from="FALSE" key="FALSE" type="copyintolist"/>
 <exec from="CONFIRM_UPDATE" key="CONFIRM_UPDATE" type="copyintolist"/>
 <exec from="TREE_ID" key="TREE_ID" type="copyintolist"/>
 <exec from="CONTENT" key="CONTENT" type="copyintolist"/>
 <exec type="loop">
  <exec type="guard">
   <conditions>
    <condition lhsfield="CONFIRM_UPDATE" operator="=" rhsvalue="true"/>
   </conditions>
   <exec type="guard">
    <conditions>
     <condition lhsfield="CONTENT" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec content="CONTENT" documentid="DOCUMENT_ID" documenttype="9" type="storedecisiontree"/>
    <exec to="UPDATED_USER_ID" type="user"/>
    <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" to="UPDATED_TIME" truncate="false" type="date"/>
    <exec recordcount="" statement="updateWlgContent" type="update"/>
    <exec document="DOCUMENT_ID" result="RESULT" type="decisiontreesummary"/>
    <exec key="VALUE" list="RESULT" to="RESULT" type="unique"/>
    <exec from="RESULT" key="VALUE" to="ASSIGNED_WORK_LIST" type="extract"/>
    <exec type="guard">
     <conditions>
      <condition lhsfield="ASSIGNED_WORK_LIST" operator="is not empty" rhsvalue=""/>
     </conditions>
     <exec statement="deleteTreeInvalidWorkList" type="delete"/>
    </exec>
   </exec>
   <exec from="TRUE" to="RELOAD_TREE" type="copy"/>
   <exec message="Saved successfully" target="MESSAGE" type="formattext"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="CONFIRM_UPDATE" operator="=" rhsvalue="false"/>
   </conditions>
   <exec from="FALSE" to="RELOAD_TREE" type="copy"/>
   <exec message="Save Cancelled" target="MESSAGE" type="formattext"/>
  </exec>
  <exec from="TRUE" to="CLEAR_PROCESS" type="copy"/>
  <exec from="TRUE" to="OPEN_MESSAGE" type="copy"/>
 </exec>
</event>
