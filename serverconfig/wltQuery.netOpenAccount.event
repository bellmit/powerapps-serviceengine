<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec text="Fetch all accounts in worklist" type="comment">
  <exec argument="ACCOUNT_LIST" query="getWorkListAccountIds" type="query"/>
 </exec>
 <exec text="Fetch all paid accounts" type="comment">
  <exec event="wltQuery.getPaidAccount" ignoreresult="true" type="raise"/>
 </exec>
 <exec text="Fetch PTP Accounts" type="comment">
  <exec event="wltQuery.getPtpAccount" ignoreresult="true" type="raise"/>
 </exec>
 <exec text="Fetch Broken PTP Accounts" type="comment">
  <exec argument="BROKEN_PROMISE_ACCOUNT_LIST" query="getBrokenPtpAccountData" type="query"/>
 </exec>
 <exec text="Fetch all WIP accounts" type="comment">
  <exec type="guard">
   <conditions>
    <condition lhsfield="USER_TYPE_CODE" operator="=" rhsvalue="bankuser"/>
   </conditions>
   <exec event="wltQuery.getWipAccount" ignoreresult="true" type="raise"/>
  </exec>
 </exec>
 <exec text="Get Net Open Accounts" type="comment">
  <exec list="PAID_ACCOUNT_LIST" to="COUNT_GROSS_PAID" type="countlist"/>
  <exec list="PTP_ACCOUNT_LIST" to="COUNT_GROSS_PTP" type="countlist"/>
  <exec list="BROKEN_PROMISE_ACCOUNT_LIST" to="COUNT_GROSS_BP" type="countlist"/>
  <exec list="WIP_ACCOUNT_LIST" to="COUNT_GROSS_WIP" type="countlist"/>
  <exec list="ACCOUNT_LIST" to="COUNT_GROSS_WIP" type="countlist"/>
  <exec statement="getWltGrossCount" type="select"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="USER_TYPE_CODE" operator="=" rhsvalue="bankuser"/>
   </conditions>
   <exec event="wltQuery.excludeAccount" ignoreresult="true" type="raise"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="USER_TYPE_CODE" operator="=" rhsvalue="agencyuser"/>
   </conditions>
   <exec event="wltQueryLite.excludeAccount" ignoreresult="true" type="raise"/>
  </exec>
  <exec list="ACCOUNT_LIST" to="NET_OPEN" type="countlist"/>
  <exec statement="getWltNetCount" type="select"/>
 </exec>
</event>
