<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec event="wlm.getUserType" ignoreresult="true" type="raise"/>
 <exec from="ACCOUNT_LIST" to="WLM_ACCOUNT_LIST" type="copy"/>
 <exec from="USER_LIST" to="WLM_USER_LIST" type="copy"/>
 <exec statement="getTrueAndFalseBooleanValues" type="select"/>
 <exec list="WLM_ACCOUNT_LIST" to="ACCOUNTS_COUNT" type="countlist"/>
 <exec list="WLM_USER_LIST" to="USERS_COUNT" type="countlist"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="ACCOUNTS_COUNT" operator="exists" rhsvalue=""/>
   <condition lhsfield="ACCOUNTS_COUNT" operator="&lt;&gt;" rhsvalue="0"/>
  </conditions>
  <exec message="cannotDelete" target="PROCEED_TO_DELETE" type="formattext"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="USERS_COUNT" operator="exists" rhsvalue=""/>
   <condition lhsfield="USERS_COUNT" operator="&lt;&gt;" rhsvalue="0"/>
  </conditions>
  <exec message="cannotDelete" target="PROCEED_TO_DELETE" type="formattext"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="ACCOUNTS_COUNT" operator="=" rhsvalue="0"/>
   <condition lhsfield="USERS_COUNT" operator="=" rhsvalue="0"/>
  </conditions>
  <exec message="doDelete" target="PROCEED_TO_DELETE" type="formattext"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="PROCEED_TO_DELETE" operator="=" rhsvalue="cannotDelete"/>
  </conditions>
  <exec count="1" to="RESULT_LIST" type="createlist"/>
  <exec from="WORK_LIST" key="WORK_LIST" to="RESULT_LIST" type="copyintolist"/>
  <exec from="TRUE" key="DELETE_FAILED_MESSAGE" to="RESULT_LIST" type="copyintolist"/>
  <exec from="RESULT_LIST" type="copy"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="PROCEED_TO_DELETE" operator="=" rhsvalue="doDelete"/>
  </conditions>
  <exec from="WORK_LIST_ID_COPY" to="WORK_LIST_ID" type="copy"/>
  <exec type="transaction">
   <exec recordcount="" statement="updateWorklistAsDisabled" type="update"/>
  </exec>
  <exec count="1" to="DELETED_LIST" type="createlist"/>
  <exec count="1" to="RESULT_LIST" type="createlist"/>
  <exec from="WORK_LIST_ID" key="WORK_LIST_ID" to="DELETED_LIST" type="copyintolist"/>
  <exec key="WORK_LIST_ID" minuend="WORK_LIST" subtrahend="DELETED_LIST" to="WORK_LIST" type="remove"/>
  <exec from="WLM_TYPE_DESC" key="WLM_TYPE_DESC" to="WORK_LIST" type="copyintolist"/>
  <exec from="WORK_LIST" key="WORK_LIST" to="RESULT_LIST" type="copyintolist"/>
  <exec from="RESULT_LIST" type="copy"/>
 </exec>
</event>
