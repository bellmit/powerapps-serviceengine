<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec count="1" type="createlist"/>
 <exec list="RAW_DATA" to="TOTAL_RECORDS" type="countlist"/>
 <exec key="ACCOUNT_NUMBER" list="RAW_DATA" to="UNIQUE_DATA" type="unique"/>
 <exec list="UNIQUE_DATA" to="TOTAL_UNIQUE_RECORDS" type="countlist"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TOTAL_RECORDS" operator="equal to value of" rhsvalue="TOTAL_UNIQUE_RECORDS"/>
  </conditions>
  <exec type="transaction">
   <exec statement="deleteTemp" type="delete"/>
  </exec>
  <exec argument="RAW_DATA" type="loop">
   <exec type="guard">
    <conditions>
     <condition lhsfield="ACCOUNT_NUMBER" operator="is not empty" rhsvalue=""/>
     <condition lhsfield="WL_CODE" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec type="transaction">
     <exec statement="insertTemp" type="insert"/>
    </exec>
   </exec>
  </exec>
  <exec statement="getTempProceed" type="select"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="PROCEED" operator="&lt;&gt;" rhsvalue="false"/>
   </conditions>
   <exec from="TRUE" key="ALLOW_RUN" type="copyintolist"/>
   <exec argument="RAW_DATA" query="getProtoImportedAccountsData" type="query"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="PROCEED" operator="=" rhsvalue="false"/>
   </conditions>
   <exec from="TRUE" key="INIT" type="copyintolist"/>
  </exec>
 </exec>
 <exec from="RAW_DATA" key="DATA" type="copyintolist"/>
 <exec from="TOTAL_RECORDS" key="TOTAL_RECORDS" type="copyintolist"/>
 <exec from="TOTAL_UNIQUE_RECORDS" key="TOTAL_UNIQUE_RECORDS" type="copyintolist"/>
</event>
