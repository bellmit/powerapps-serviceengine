<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="guard">
  <conditions>
   <condition lhsfield="CUSTOMER_ID" operator="is not empty" rhsvalue=""/>
   <condition lhsfield="CUSTOMER_ID" operator="&lt;&gt;" rhsvalue="parent.CUSTOMER_ID"/>
   <condition lhsfield="ACCOUNT_ID" operator="is not empty" rhsvalue=""/>
   <condition lhsfield="ACCOUNT_ID" operator="&lt;&gt;" rhsvalue="parent.ACCOUNT_ID"/>
  </conditions>
  <exec count="1" type="createlist"/>
  <exec from="CUSTOMER_ID" key="CUSTOMER_ID" type="copyintolist"/>
  <exec from="ACCOUNT_ID" key="ACCOUNT_ID" type="copyintolist"/>
  <exec type="loop">
   <exec statement="getCustomerInformation" type="select"/>
   <exec statement="getCustomerCorrespondenceAddress" type="select"/>
   <exec type="parallelquery">
    <query value="getCustomerAccountRelationship"/>
    <query value="getCamPdcPowerCollect"/>
    <query value="getCustEmploymentDetails"/>
    <query value="getSecondaryIc"/>
    <target value="ACCOUNT_RELATIONSHIP"/>
    <target value="APPLICATION_PDC"/>
    <target value="EMPLOYMENT_DETAILS"/>
    <target value="SECONDARY_IC"/>
   </exec>
   <exec statement="getCustomerAccountGuarantorCount" type="select"/>
   <exec from="EMPLOYER_NAME" key="COMPANY_NAME" type="copyintolist"/>
   <exec event="cam.getAccountOutlook" ignoreresult="true" type="raisewith"/>
  </exec>
 </exec>
</event>
