<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">
<sqlMap namespace="earmarkSetoffService">

	<insert id="insertTreatmentEarmarkSetoff">
		insert into ptrtreatment_earmark_setoff
		(TREATMENT_ID,ACCOUNT_ID,TYPE_STATUS_ID,SUBTYPE_ID,TEMPLATE_VERSION_ID,
		ACCOUNT_NUMBER,AMOUNT)
		values
		(#ID#, #ACCOUNT_ID#,#TYPE_STATUS_ID#,#SUBTYPE_ID#,#TEMPLATE_VERSION_ID#,
		#ACCOUNT_NUMBER#,#AMOUNT#)
	</insert>
	
	<update id="updateTreatmentEarmarkSetoff">
	update ptrtreatment_earmark_setoff set TYPE_STATUS_ID=#TYPE_STATUS_ID#,
	SUBTYPE_ID = #SUBTYPE_ID#,TEMPLATE_VERSION_ID=#TEMPLATE_VERSION_ID#,
	ACCOUNT_NUMBER = #ACCOUNT_NUMBER#, AMOUNT = #AMOUNT#
	where TREATMENT_ID=#ID#
	</update>
	
	<resultMap id="getTreatmentEarmarkSetoff" class="hmap">
		<result property="TYPE_STATUS_ID" javaType="long" />
		<result property="SUBTYPE_ID" javaType="long" />
		<result property="TEMPLATE_VERSION_ID" javaType="long"/>
		<result property="ACCOUNT_NUMBER" javaType="string"/>
		<result property="AMOUNT" javaType="$"/>
	</resultMap>	
	
	<select id="getTreatmentEarmarkSetoff" resultMap="getTreatmentEarmarkSetoff">		
		SELECT TYPE_STATUS_ID,SUBTYPE_ID,TEMPLATE_VERSION_ID,ACCOUNT_NUMBER,AMOUNT
 	FROM ptrtreatment_earmark_setoff
		WHERE TREATMENT_ID=#ID#
	</select>	
	
	<resultMap id="getTreatmentEarmarkSetoffDefaultStatus" class="hmap">
		<result property="TYPE_STATUS_ID" javaType="long" />
	</resultMap>	
	
	<select id="getTreatmentEarmarkSetoffDefaultStatus" resultMap="getTreatmentEarmarkSetoffDefaultStatus">		
	select ID from PTRTREATMENT_TYPE_STATUS_REF where TYPE_ID=41 and CODE='ESO_INP'
	</select>	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
	
</sqlMap>