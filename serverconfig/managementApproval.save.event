<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="guard">
  <conditions>
   <condition lhsfield="IS_NEW_TREATMENT" operator="=" rhsvalue="true"/>
  </conditions>
  <exec statement="insertTreatmentManagementApproval" type="insert"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="IS_NEW_TREATMENT" operator="&lt;&gt;" rhsvalue="true"/>
  </conditions>
  <exec recordcount="" statement="updateTreatmentManagementApproval" type="update"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="SUBTYPE_CODE" operator="=" rhsvalue="MA_APPXD"/>
  </conditions>
  <exec statement="deleteTreatmentManagementApprovalAppendixD" type="delete"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="APPENDIXD_LIST" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec from="ID" key="TREATMENT_ID" to="APPENDIXD_LIST" type="copyintolist"/>
   <exec argument="APPENDIXD_LIST" type="loop">
    <exec statement="insertTreatmentManagementApprovalAppendixD" type="insert"/>
   </exec>
  </exec>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="SUBTYPE_CODE" operator="=" rhsvalue="MA_APPXB"/>
  </conditions>
  <exec statement="deleteTreatmentManagementApprovalAppendixB" type="delete"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="APPENDIXB_LIST" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec from="ID" key="TREATMENT_ID" to="APPENDIXB_LIST" type="copyintolist"/>
   <exec argument="APPENDIXB_LIST" type="loop">
    <exec statement="insertTreatmentManagementApprovalAppendixB" type="insert"/>
   </exec>
  </exec>
 </exec>
</event>
