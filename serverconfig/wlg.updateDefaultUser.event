<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="guard">
  <conditions>
   <condition lhsfield="ASSIGNED_USER_LIST" operator="exists" rhsvalue=""/>
   <condition lhsfield="ASSIGNED_USER_LIST" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec list="ASSIGNED_USER_LIST" to="COUNT_ASSIGNED_USER_LIST" type="countlist"/>
  <exec from="ASSIGNED_USER_LIST_SELECTED" key="USER_ID" to="USERS" type="extract"/>
  <exec statement="getBooleanNull" type="select"/>
  <exec from="IS_DEFAULT_USER" key="IS_DEFAULT_USER" to="ASSIGNED_USER_LIST" type="copyintolist"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="COUNT_ASSIGNED_USER_LIST" operator="&lt;&gt;" rhsvalue="0"/>
   </conditions>
   <exec type="transaction">
    <exec recordcount="" statement="updateNullifyUserTemplateIsDefault" type="update"/>
   </exec>
   <exec type="transaction">
    <exec recordcount="" statement="updateWorkListUserTemplateIsDefault" type="update"/>
   </exec>
   <exec argument="DEFAULT_USER_LIST" query="getWorkListUserTemplateIsDefault" type="query"/>
   <exec from="DEFAULT_USER_LIST" key="USER_ID" to="ASSIGNED_USER_LIST" type="merge"/>
  </exec>
 </exec>
 <exec from="ASSIGNED_USER_LIST" type="copy"/>
</event>
