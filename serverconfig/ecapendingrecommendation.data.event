<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec to="LOGON_USER" type="user"/>
 <exec statement="getLoginUserType" type="select"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="PRE_NPF"/>
  </conditions>
  <exec type="parallelquery">
   <query value="getEcaPreNpf2MiaNewPendingRecommendation"/>
   <query value="getEcaPreNpf3MiaNewPendingRecommendation"/>
   <query value="getEcaPreNpf2MiaExistingPendingRecommendation"/>
   <query value="getEcaPreNpf3MiaExistingPendingRecommendation"/>
   <target value="C1_NEW"/>
   <target value="C2_NEW"/>
   <target value="C1_EXISTING"/>
   <target value="C2_EXISTING"/>
  </exec>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="NPF"/>
  </conditions>
  <exec type="parallelquery">
   <query value="getEcaNpfC1MiaNewPendingRecommendation"/>
   <query value="getEcaNpfC2MiaNewPendingRecommendation"/>
   <query value="getEcaNpfC1MiaExistingPendingRecommendation"/>
   <query value="getEcaNpfC2MiaExistingPendingRecommendation"/>
   <target value="C1_NEW"/>
   <target value="C2_NEW"/>
   <target value="C1_EXISTING"/>
   <target value="C2_EXISTING"/>
  </exec>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="C1_NEW" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="C1_NEW" to="DATA" type="copy"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="C1_NEW" operator="is empty" rhsvalue=""/>
   <condition lhsfield="C2_NEW" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="C2_NEW" to="DATA" type="copy"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="DATA" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec from="C2_NEW" key="AGENCY_ID" to="DATA" type="merge"/>
  <exec from="C1_EXISTING" key="AGENCY_ID" to="DATA" type="merge"/>
  <exec from="C2_EXISTING" key="AGENCY_ID" to="DATA" type="merge"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="DATA" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec count="1" type="createlist"/>
  <exec from="ZERO" key="ZERO" to="DATA" type="copyintolist"/>
  <exec argument="DATA" type="loop">
   <exec type="guard">
    <conditions>
     <condition lhsfield="C1_EXISTING_TOTAL_CASE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C1_EXISTING_TOTAL_CASE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C1_NEW_TOTAL_CASE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C1_NEW_TOTAL_CASE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C1_EXISTING_GROSS_BALANCE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C1_EXISTING_GROSS_BALANCE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C1_NEW_GROSS_BALANCE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C1_NEW_GROSS_BALANCE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C2_EXISTING_TOTAL_CASE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C2_EXISTING_TOTAL_CASE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C2_NEW_TOTAL_CASE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C2_NEW_TOTAL_CASE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C2_NEW_GROSS_BALANCE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C2_NEW_GROSS_BALANCE" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="C2_EXISTING_GROSS_BALANCE" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="ZERO" to="C2_EXISTING_GROSS_BALANCE" type="copy"/>
   </exec>
   <exec lhs="C1_EXISTING_TOTAL_CASE" rhs="C1_NEW_TOTAL_CASE" target="TOTAL_CASE" type="add"/>
   <exec lhs="TOTAL_CASE" rhs="C2_EXISTING_TOTAL_CASE" target="TOTAL_CASE" type="add"/>
   <exec lhs="TOTAL_CASE" rhs="C2_NEW_TOTAL_CASE" target="TOTAL_CASE" type="add"/>
   <exec lhs="C1_EXISTING_GROSS_BALANCE" rhs="C1_NEW_GROSS_BALANCE" target="GROSS_BALANCE" type="add"/>
   <exec lhs="GROSS_BALANCE" rhs="C2_EXISTING_GROSS_BALANCE" target="GROSS_BALANCE" type="add"/>
   <exec lhs="GROSS_BALANCE" rhs="C2_NEW_GROSS_BALANCE" target="GROSS_BALANCE" type="add"/>
  </exec>
  <exec from="DATA" key="DATA" type="copyintolist"/>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="DATA" operator="is empty" rhsvalue=""/>
  </conditions>
  <exec count="1" type="createlist"/>
  <exec message="No record found!!!" target="MESSAGE" type="formattext"/>
  <exec from="MESSAGE" key="MESSAGE" type="copyintolist"/>
  <exec from="TRUE" key="OPEN_MESSAGE" type="copyintolist"/>
 </exec>
 <exec from="TRUE" key="INIT" type="copyintolist"/>
</event>
