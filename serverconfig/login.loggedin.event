<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec to="USER_ID" type="user"/>
 <exec from="USER_ID" to="LOGON_USER" type="copy"/>
 <exec statement="getLoginUserType" type="select"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="application" operator="=" rhsvalue="8e3641cc207"/>
  </conditions>
  <exec type="guard">
   <conditions>
    <condition lhsfield="USER_TYPE_ID" operator="=" rhsvalue="2"/>
   </conditions>
   <exec code="WA" type="error"/>
  </exec>
 </exec>
 <exec type="guard">
  <conditions>
   <condition lhsfield="application" operator="=" rhsvalue="ffo9z1q64s9s___"/>
  </conditions>
  <exec type="guard">
   <conditions>
    <condition lhsfield="USER_TYPE_ID" operator="&lt;&gt;" rhsvalue="2"/>
   </conditions>
   <exec code="WA" type="error"/>
  </exec>
 </exec>
 <exec text="Record login for user" type="comment">
  <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" to="LOGIN_TIME" truncate="false" type="date"/>
  <exec statement="getLastUserLoginAndLogout" type="select"/>
  <exec type="transaction">
   <exec type="guard">
    <conditions>
     <condition lhsfield="LAST_LOGIN_TIME" operator="exists" rhsvalue=""/>
     <condition lhsfield="LAST_LOGOUT_TIME" operator="less than value of" rhsvalue="LAST_LOGIN_TIME"/>
    </conditions>
    <exec statement="getLastLoginTime" type="select"/>
    <exec statement="insertDerivedUserLogoff" type="insert"/>
   </exec>
   <exec statement="insertUserLogin" type="insert"/>
  </exec>
 </exec>
</event>
