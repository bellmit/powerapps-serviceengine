<?xml version="1.0" encoding="UTF-8" ?>

<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap namespace="instructionService">

<resultMap class="hmap" id="getTreatmentInstruction">

        <result property="INSTRUCTION_1" jdbcType="VARCHAR"/>
		<result property="INSTRUCTION_2" jdbcType="VARCHAR"/>
		<result property="INSTRUCTION_3" jdbcType="VARCHAR"/>
		<result property="INSTRUCTION_4" jdbcType="VARCHAR"/>
		<result property="INSTRUCTION_5" jdbcType="VARCHAR"/>
		
		<result property="DATE_1" jdbcType="DATE"/>
		<result property="DATE_2" jdbcType="DATE"/>
		<result property="DATE_3" jdbcType="DATE"/>
		<result property="DATE_4" jdbcType="DATE"/>
		<result property="DATE_5" jdbcType="DATE"/>
		
		<result property="CHECK_1" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_2" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_3" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_4" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_5" javaType="boolean" jdbcType="NUMERIC"/>
		
		<result property="CHECK_1_COPY" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_2_COPY" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_3_COPY" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_4_COPY" javaType="boolean" jdbcType="NUMERIC"/>
		<result property="CHECK_5_COPY" javaType="boolean" jdbcType="NUMERIC"/>
		
		<result property="TYPE_STATUS_ID" javaType="long"/>
		<result property="SUBTYPE_ID" javaType="long"/>
		<result property="TREATMENT_ID" javaType="long"/>
		
		<result property="CURRENT_CHECK_1" javaType="boolean"/>
		<result property="CURRENT_CHECK_2" javaType="boolean"/>
		<result property="CURRENT_CHECK_3" javaType="boolean"/>
		<result property="CURRENT_CHECK_4" javaType="boolean"/>
		<result property="CURRENT_CHECK_5" javaType="boolean"/>
</resultMap>


	<select id="getTreatmentInstruction" resultMap="getTreatmentInstruction" > 
		
		SELECT 
		INSTRUCTION_1, INSTRUCTION_2, INSTRUCTION_3, INSTRUCTION_4, INSTRUCTION_5, 
		DATE_1,DATE_2,DATE_3,DATE_4,DATE_5,
		CHECK_1,CHECK_2,CHECK_3,CHECK_4,CHECK_5,
		CHECK_1 AS CHECK_1_COPY,
		CHECK_2 AS CHECK_2_COPY,
		CHECK_3 AS CHECK_3_COPY,
		CHECK_4 AS CHECK_4_COPY,
		CHECK_5 AS CHECK_5_COPY,
		TYPE_STATUS_ID, SUBTYPE_ID,TREATMENT_ID,
		CHECK_1,CHECK_2,CHECK_3,CHECK_4,CHECK_5
		
		FROM PTRTREATMENT_INSTRUCTION 
		where TREATMENT_ID = #ID#
	
		</select>
		

	<parameterMap class="map" id="updateTreatmentInstruction">
		<parameter property="INSTRUCTION_1" jdbcType="VARCHAR"/>
		<parameter property="INSTRUCTION_2" jdbcType="VARCHAR"/>
		<parameter property="INSTRUCTION_3" jdbcType="VARCHAR"/>
		<parameter property="INSTRUCTION_4" jdbcType="VARCHAR"/>
		<parameter property="INSTRUCTION_5" jdbcType="VARCHAR"/>
		
		<parameter property="DATE_1" jdbcType="DATE"/>
		<parameter property="DATE_2" jdbcType="DATE"/>
		<parameter property="DATE_3" jdbcType="DATE"/>
		<parameter property="DATE_4" jdbcType="DATE"/>
		<parameter property="DATE_5" jdbcType="DATE"/>
		
		<parameter property="CHECK_1" javaType="boolean" jdbcType="NUMERIC"/>
		<parameter property="CHECK_2" javaType="boolean" jdbcType="NUMERIC"/>
		<parameter property="CHECK_3" javaType="boolean" jdbcType="NUMERIC"/>
		<parameter property="CHECK_4" javaType="boolean" jdbcType="NUMERIC"/>
		<parameter property="CHECK_5" javaType="boolean" jdbcType="NUMERIC"/>
		
		<parameter property="ACCOUNT_ID" jdbcType="NUMERIC"/>
		<parameter property="TYPE_STATUS_ID" jdbcType="NUMERIC"/>
		<parameter property="SUBTYPE_ID" jdbcType="NUMERIC"/>
		<parameter property="ID" javaType="long"/>
	</parameterMap>
	
	<insert id="insertTreatmentInstruction"
		parameterMap="updateTreatmentInstruction"> 
		INSERT INTO
		PTRTREATMENT_INSTRUCTION (
		INSTRUCTION_1, INSTRUCTION_2, INSTRUCTION_3, INSTRUCTION_4, INSTRUCTION_5, 
		DATE_1,DATE_2,DATE_3,DATE_4,DATE_5,
		CHECK_1,CHECK_2,CHECK_3,CHECK_4,CHECK_5,
		
		ACCOUNT_ID,TYPE_STATUS_ID,SUBTYPE_ID,TREATMENT_ID) 
		values 
		(?, ?, ?, ?, ?, 
		 ?, ?, ?, ?, ?, 
		 ?, ?, ?, ?,?,
		 ?, ?, ?, ?)
	</insert>
	
	<update id="updateTreatmentInstruction" parameterMap="updateTreatmentInstruction"> 
		UPDATE
		PTRTREATMENT_INSTRUCTION 
		set INSTRUCTION_1 = ?, INSTRUCTION_2 = ?, INSTRUCTION_3 = ?, INSTRUCTION_4 = ?, INSTRUCTION_5 = ?, 
		    DATE_1 = ?, DATE_2 = ?, DATE_3 = ?, DATE_4 = ?, DATE_5 = ?,
		    CHECK_1 = ?, CHECK_2 = ?, CHECK_3 = ?, CHECK_4 = ?, CHECK_5 = ?,
		    ACCOUNT_ID = ?, TYPE_STATUS_ID = ?, SUBTYPE_ID = ?
		    where TREATMENT_ID = ?
	</update>







</sqlMap>