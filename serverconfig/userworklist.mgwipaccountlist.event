<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec event="userworklist.mgwipaccountids" ignoreresult="true" type="raise"/>
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="true" to="FIRST_OF_MONTH" truncate="true" type="date"/>
 <exec argument="EXCLUDEDACCOUNTS" query="selectEmptyList" type="query"/>
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" truncate="false" type="date"/>
 <exec count="1" to="DUE_ACCOUNTS" type="createlist"/>
 <exec from="DUE_ACCOUNTS" key="ACCOUNT_ID" to="DUE_ACCOUNTS" type="extract"/>
 <exec text="Fetch AKPK Unpaid Accounts" type="comment">
  <exec argument="AKPK_UNPAID_ACCOUNT_LIST" query="getAKPKunpaidForWorkList" type="query"/>
  <exec from="AKPK_UNPAID_ACCOUNT_LIST" to="PARTIAL_PYMT_ACCOUNT_LIST" type="append"/>
 </exec>
 <exec text="Get WIP accounts" type="comment">
  <exec argument="PAID_ACCOUNTS" query="selectEmptyList" type="query"/>
  <exec from="WIP_ACCOUNT_ID_LIST" to="IN_PROGRESS_ACCOUNTS" type="copy"/>
  <exec size="2000" source="IN_PROGRESS_ACCOUNTS" target="DIVIDED_IN_PROGRESS_ACCOUNTS" type="dividelist"/>
  <exec event="userworklist.getWipFilters" ignoreresult="true" type="raise"/>
  <exec from="DIVIDED_IN_PROGRESS_ACCOUNTS" key="ACCOUNT_LIST" to="ACCOUNT_LIST" type="extract"/>
  <exec key="ACCOUNT_ID" list="ACCOUNT_LIST" to="ACCOUNT_LIST" type="unique"/>
  <exec from="ACCOUNT_LIST" key="ACCOUNT_ID" to="ACCOUNT_ID_LIST" type="extract"/>
  <exec event="userworklist.mgwipaccountremove" ignoreresult="true" type="raise"/>
  <exec argument="ACCOUNT_LIST" query="getAccountListAccountIds" type="query"/>
  <exec event="userworklist.mggetinfo" ignoreresult="true" type="raise"/>
 </exec>
</event>
