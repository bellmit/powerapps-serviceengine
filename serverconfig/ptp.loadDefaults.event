<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="guard">
  <conditions>
   <condition lhsfield="PROCESS_TYPE_ID" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec count="1" type="createlist"/>
  <exec type="parallelquery">
   <query value="getDefaultTreatmentStatusType"/>
   <query value="getDefaultTreatmentSubType"/>
   <target value="TYPE_STATUS_LIST"/>
   <target value="SUBTYPE_LIST"/>
  </exec>
  <exec from="TYPE_STATUS_LIST" key="TYPE_STATUS_LIST" type="copyintolist"/>
  <exec from="SUBTYPE_LIST" key="SUBTYPE_LIST" type="copyintolist"/>
  <exec from="ACCOUNT_ID" key="ACCOUNT_ID" type="copyintolist"/>
  <exec from="PROCESS_TYPE_ID" key="PROCESS_TYPE_ID" type="copyintolist"/>
  <exec from="NO_OF_DAY" key="NO_OF_DAY" type="copyintolist"/>
  <exec type="loop">
   <exec statement="getTreatmentAccountDetails" type="select"/>
   <exec statement="getTreatmentDefaultTypeStatusPtp" type="select"/>
   <exec type="guard">
    <conditions>
     <condition lhsfield="NO_OF_DAY" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec adddays="NO_OF_DAY" ceiling="false" endmonth="false" nextweekday="false" startmonth="false" to="PTP_DATE" truncate="false" type="date"/>
   </exec>
  </exec>
 </exec>
</event>
