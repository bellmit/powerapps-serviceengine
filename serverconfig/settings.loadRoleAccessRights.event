<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec type="guard">
  <conditions>
   <condition lhsfield="ROLE_TYPE_ID" operator="is not empty" rhsvalue=""/>
  </conditions>
  <exec count="1" type="createlist"/>
  <exec argument="LEVEL_ONE_ACCESS" query="getLevelOneAccessRights" type="query"/>
  <exec type="guard">
   <conditions>
    <condition lhsfield="LEVEL_ONE_ACCESS" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec from="LEVEL_ONE_ACCESS" key="ACCESS_RIGHTS_ID" to="LEVEL_1" type="extract"/>
   <exec from="LEVEL_ONE_ACCESS" to="ACCESS_RIGHTS" type="append"/>
   <exec argument="LEVEL_TWO_ACCESS" query="getLevelTwoAccessRights" type="query"/>
   <exec type="guard">
    <conditions>
     <condition lhsfield="LEVEL_TWO_ACCESS" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec from="LEVEL_TWO_ACCESS" to="ACCESS_RIGHTS" type="append"/>
    <exec from="LEVEL_TWO_ACCESS" key="ACCESS_RIGHTS_ID" to="LEVEL_2" type="extract"/>
    <exec argument="LEVEL_THREE_ACCESS" query="getLevelThreeAccessRights" type="query"/>
    <exec type="guard">
     <conditions>
      <condition lhsfield="LEVEL_THREE_ACCESS" operator="is not empty" rhsvalue=""/>
     </conditions>
     <exec from="LEVEL_THREE_ACCESS" to="ACCESS_RIGHTS" type="append"/>
     <exec from="LEVEL_THREE_ACCESS" key="ACCESS_RIGHTS_ID" to="LEVEL_3" type="extract"/>
     <exec argument="LEVEL_FOUR_ACCESS" query="getLevelFourAccessRights" type="query"/>
     <exec type="guard">
      <conditions>
       <condition lhsfield="LEVEL_FOUR_ACCESS" operator="is not empty" rhsvalue=""/>
      </conditions>
      <exec from="LEVEL_FOUR_ACCESS" to="ACCESS_RIGHTS" type="append"/>
      <exec from="LEVEL_FOUR_ACCESS" key="ACCESS_RIGHTS_ID" to="LEVEL_4" type="extract"/>
      <exec argument="LEVEL_FIVE_ACCESS" query="getLevelFiveAccessRights" type="query"/>
      <exec type="guard">
       <conditions>
        <condition lhsfield="LEVEL_FIVE_ACCESS" operator="is not empty" rhsvalue=""/>
       </conditions>
       <exec from="LEVEL_FIVE_ACCESS" to="ACCESS_RIGHTS" type="append"/>
      </exec>
     </exec>
    </exec>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="ACCESS_RIGHTS" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec from="FALSE" key="FALSE" to="ACCESS_RIGHTS" type="copyintolist"/>
   <exec from="TRUE" key="TRUE" to="ACCESS_RIGHTS" type="copyintolist"/>
   <exec from="ACCESS_RIGHTS" to="AVAILABLE_ACCESS_RIGHTS" type="copy"/>
   <exec from="FALSE" key="ENABLE_ADD" to="AVAILABLE_ACCESS_RIGHTS" type="copyintolist"/>
   <exec argument="AVAILABLE_ACCESS_RIGHTS" type="loop">
    <exec type="guard">
     <conditions>
      <condition lhsfield="PARENT_ACCESS_RIGHTS_ID" operator="is empty" rhsvalue=""/>
     </conditions>
     <exec from="TRUE" to="ENABLE_ADD" type="copy"/>
    </exec>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="ROLE_ID" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec argument="ASSIGNED_ACCESS" query="getRoleAssignedAccessRights" type="query"/>
   <exec type="parallelquery">
    <query value="getRoleAssignedParentAccessRights"/>
    <query value="getRoleAssignedParentAccessRights"/>
    <target value="ASSIGNED_PARENTS"/>
    <target value="DISABLE_AVAILABLE_PARENTS"/>
   </exec>
   <exec from="ASSIGNED_ACCESS" to="ASSIGNED_ACCESS_RIGHTS" type="copy"/>
   <exec from="ACCESS_RIGHTS" key="ACCESS_RIGHTS_ID" to="ASSIGNED_ACCESS_RIGHTS" type="merge"/>
   <exec from="TRUE" key="ENABLE_REMOVE" to="ASSIGNED_ACCESS_RIGHTS" type="copyintolist"/>
   <exec from="FALSE" key="ENABLE_REMOVE" to="ASSIGNED_PARENTS" type="copyintolist"/>
   <exec from="FALSE" key="ENABLE_ADD" to="DISABLE_AVAILABLE_PARENTS" type="copyintolist"/>
   <exec from="ASSIGNED_PARENTS" key="ACCESS_RIGHTS_ID" to="ASSIGNED_ACCESS_RIGHTS" type="merge"/>
   <exec from="ASSIGNED_ACCESS_RIGHTS" key="ASSIGNED_ACCESS_RIGHTS" type="copyintolist"/>
  </exec>
  <exec from="AVAILABLE_ACCESS_RIGHTS" key="AVAILABLE_ACCESS_RIGHTS" type="copyintolist"/>
 </exec>
</event>
