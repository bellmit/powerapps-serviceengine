<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec event="wlm.getUserType" ignoreresult="true" type="raise"/>
 <exec statement="getWlmIlTreeRunId" type="select"/>
 <exec from="SELECTED_SEARCH_RESULT_LIST" to="SEARCH_RESULT_LIST" type="copy"/>
 <exec key="ACCOUNT_ID" list="SEARCH_RESULT_LIST" to="SEARCH_RESULT_LIST" type="unique"/>
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" to="ASSIGNMENT_DATE" truncate="true" type="date"/>
 <exec ceiling="false" endmonth="false" nextweekday="false" startmonth="false" to="CURRENT_DATE" truncate="false" type="date"/>
 <exec to="USER_ID" type="user"/>
 <exec list="SEARCH_RESULT_LIST" to="COUNT_SEARCH_RESULT_LIST" type="countlist"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="COUNT_SEARCH_RESULT_LIST" operator="&lt;&gt;" rhsvalue="0"/>
   <condition lhsfield="COUNT_SEARCH_RESULT_LIST" operator="exists" rhsvalue=""/>
  </conditions>
  <exec from="WORK_LIST_ID_COPY" key="WORK_LIST_ID" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="ASSIGNMENT_DATE" key="ASSIGNMENT_DATE" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="ASSIGNMENT_SOURCE_ID" key="ASSIGNMENT_SOURCE_ID" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="MODULE_NAME" key="MODULE_NAME" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="TYPE_CODE" key="TYPE_CODE" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="USER_ID" key="USER_ID" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="WLM_TYPE_CODE" key="WLM_TYPE_CODE" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="TREE_RUN_ID" key="TREE_RUN_ID" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec from="CURRENT_DATE" key="CURRENT_DATE" to="SEARCH_RESULT_LIST" type="copyintolist"/>
  <exec type="transaction">
   <exec argument="SEARCH_RESULT_LIST" type="loop">
    <exec type="guard">
     <conditions>
      <condition lhsfield="UPDATE_ACCOUNT" operator="=" rhsvalue="true"/>
     </conditions>
     <exec type="guard">
      <conditions>
       <condition lhsfield="MODULE_NAME" operator="&lt;&gt;" rhsvalue="RNR"/>
      </conditions>
      <exec recordcount="" statement="updateAccountWorkListForCurrentAssignment" type="update"/>
      <exec type="guard">
       <conditions>
        <condition lhsfield="WLM_TYPE_CODE" operator="=" rhsvalue="IL_WLG"/>
       </conditions>
       <exec type="guard">
        <conditions>
         <condition lhsfield="UPDATE_IL_ACCOUNT" operator="=" rhsvalue="true"/>
        </conditions>
        <exec recordcount="" statement="updateAppendixAAccountForAssignment" type="update"/>
       </exec>
       <exec type="guard">
        <conditions>
         <condition lhsfield="UPDATE_IL_ACCOUNT" operator="=" rhsvalue="false"/>
        </conditions>
        <exec statement="insertAppendixAAccountForAssignment" type="insert"/>
       </exec>
      </exec>
      <exec recordcount="" statement="updateAccountWorklistId" type="update"/>
     </exec>
     <exec type="guard">
      <conditions>
       <condition lhsfield="MODULE_NAME" operator="=" rhsvalue="RNR"/>
      </conditions>
      <exec recordcount="" statement="updateRnRWorkListForCurrentAssignment" type="update"/>
     </exec>
    </exec>
    <exec type="guard">
     <conditions>
      <condition lhsfield="UPDATE_ACCOUNT" operator="=" rhsvalue="false"/>
     </conditions>
     <exec type="guard">
      <conditions>
       <condition lhsfield="MODULE_NAME" operator="&lt;&gt;" rhsvalue="RNR"/>
      </conditions>
      <exec type="guard">
       <conditions>
        <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="bankuser"/>
       </conditions>
       <exec statement="insertAccountWorkListCurrentAssignment" type="insert"/>
       <exec statement="insertAccountWorkListRecentAssignment" type="insert"/>
       <exec statement="insertAccountWorkListAssignmentHistory" type="insert"/>
       <exec type="guard">
        <conditions>
         <condition lhsfield="WLM_TYPE_CODE" operator="=" rhsvalue="IL_WLG"/>
        </conditions>
        <exec type="guard">
         <conditions>
          <condition lhsfield="UPDATE_IL_ACCOUNT" operator="=" rhsvalue="true"/>
         </conditions>
         <exec recordcount="" statement="updateAppendixAAccountForAssignment" type="update"/>
        </exec>
        <exec type="guard">
         <conditions>
          <condition lhsfield="UPDATE_IL_ACCOUNT" operator="=" rhsvalue="false"/>
         </conditions>
         <exec statement="insertAppendixAAccountForAssignment" type="insert"/>
        </exec>
       </exec>
       <exec recordcount="" statement="updateAccountWorklistId" type="update"/>
      </exec>
      <exec type="guard">
       <conditions>
        <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="agencyuser"/>
       </conditions>
       <exec statement="insertAgencyWorkListCurrentAssignment" type="insert"/>
      </exec>
     </exec>
     <exec type="guard">
      <conditions>
       <condition lhsfield="MODULE_NAME" operator="=" rhsvalue="RNR"/>
      </conditions>
      <exec statement="insertRnRWorkListCurrentAssignment" type="insert"/>
     </exec>
    </exec>
   </exec>
  </exec>
  <exec event="wlm.getAccounts" ignoreresult="true" type="raise"/>
  <exec from="ACCOUNT_LIST" type="copy"/>
 </exec>
</event>
