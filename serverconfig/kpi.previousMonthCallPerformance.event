<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec end="END_OF_LAST_MONTH" start="BEGIN_OF_LAST_MONTH" step="Day" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="timesteplist"/>
 <exec from="ZERO" key="ZERO" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="copyintolist"/>
 <exec type="parallelquery">
  <query value="getPmMtdCallPerformance"/>
  <query value="getPmtdPtpPerformance"/>
  <query value="getPmtdTotalGrossBalance"/>
  <query value="getPmMtdBrokenAndKeptPtp"/>
  <query value="getPmtdPaymentBreakdown"/>
  <target value="PMTD_CALL_COUNT"/>
  <target value="PMTD_PTP_COUNT"/>
  <target value="PMTD_GROSS_BALANCE"/>
  <target value="PMTD_PROMISE_COUNT"/>
  <target value="PMTD_PAID_BREAKDOWN"/>
 </exec>
 <exec argument="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="loop">
  <exec event="kpi.callPerformanceTableFormatter" ignoreresult="true" type="raise"/>
  <exec from="BEGIN_OF_LAST_MONTH" to="DATE" type="copy"/>
 </exec>
 <exec from="PMTD_CALL_COUNT" key="DATE" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="merge"/>
 <exec from="PMTD_PTP_COUNT" key="DATE" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="merge"/>
 <exec from="PMTD_GROSS_BALANCE" key="DATE" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="merge"/>
 <exec from="PMTD_PROMISE_COUNT" key="DATE" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="merge"/>
 <exec from="PMTD_PAID_BREAKDOWN" key="DATE" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="merge"/>
 <exec argument="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="loop">
  <exec from="TOTAL_GROSS_BALANCE" to="BEGIN_OUTSTANDING" type="copy"/>
  <exec statement="getFinalTotal" type="select"/>
 </exec>
 <exec from="TRUE" key="VIEW_PMTD_DETAILS" to="PREVIOUS_MONTH_TO_DATE_CALL_PERFORMANCE" type="copyintolist"/>
 <exec event="kpi.pmtdCallPerformanceTotal" ignoreresult="true" type="raise"/>
</event>
