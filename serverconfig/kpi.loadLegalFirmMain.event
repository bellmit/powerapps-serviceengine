<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec count="1" type="createlist"/>
 <exec type="parallelquery">
  <query value="getLegalAgencyType"/>
  <query value="getLegalAgenciesForKpi"/>
  <query value="getProcessTypeForMonitoringKpi"/>
  <query value="getProductCategoriesForMonitoring"/>
  <target value="TIER_1"/>
  <target value="TIER_2"/>
  <target value="TYPES"/>
  <target value="PRODUCTS"/>
 </exec>
 <exec argument="TIER_1" type="loop">
  <exec from="ID" to="TYPE_ID" type="copy"/>
  <exec from="ID" to="LEVEL_1" type="copy"/>
  <exec from="DESCRIPTION" to="LEVEL_1_DESCRIPTION" type="copy"/>
 </exec>
 <exec argument="TIER_2" type="loop">
  <exec from="ID" to="LEVEL_2" type="copy"/>
  <exec from="ID" to="AGENCY_ID" type="copy"/>
  <exec from="TYPE_ID" to="LEVEL_1" type="copy"/>
  <exec from="DESCRIPTION" to="LEVEL_2_DESCRIPTION" type="copy"/>
 </exec>
 <exec from="TIER_1" to="TREE_LIST" type="append"/>
 <exec from="TIER_2" to="TREE_LIST" type="append"/>
 <exec argument="TYPES" type="loop">
  <exec argument="STAGES" query="getLegalKpi" type="query"/>
 </exec>
 <exec from="TREE_LIST" key="TREE_LIST" type="copyintolist"/>
 <exec from="PRODUCTS" key="PRODUCTS" type="copyintolist"/>
 <exec from="TYPES" key="TYPES" type="copyintolist"/>
 <exec from="STAGES" key="STAGES" type="copyintolist"/>
</event>
