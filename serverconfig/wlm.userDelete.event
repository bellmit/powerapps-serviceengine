<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec event="wlm.getUserType" ignoreresult="true" type="raise"/>
 <exec from="WLM_USER_LIST_SELECTED" to="REMOVE_USER_LIST" type="copy"/>
 <exec from="WLM_USER_LIST_SELECTED" key="USER_ID" to="USERS" type="extract"/>
 <exec from="WORK_LIST_ID_COPY" to="WORK_LIST_ID" type="copy"/>
 <exec list="REMOVE_USER_LIST" to="COUNT_REMOVE_ACCOUNTS" type="countlist"/>
 <exec type="guard">
  <conditions>
   <condition lhsfield="COUNT_REMOVE_ACCOUNTS" operator="&lt;&gt;" rhsvalue="0"/>
  </conditions>
  <exec type="transaction">
   <exec type="guard">
    <conditions>
     <condition lhsfield="MODULE_NAME" operator="=" rhsvalue="RNR"/>
    </conditions>
    <exec statement="deleteWlmRnRUsers" type="delete"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="MODULE_NAME" operator="&lt;&gt;" rhsvalue="RNR"/>
    </conditions>
    <exec type="guard">
     <conditions>
      <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="bankuser"/>
     </conditions>
     <exec statement="deleteWlmUsers" type="delete"/>
    </exec>
    <exec type="guard">
     <conditions>
      <condition lhsfield="TYPE_CODE" operator="=" rhsvalue="agencyuser"/>
     </conditions>
     <exec statement="deleteWlmAgencyUsers" type="delete"/>
    </exec>
   </exec>
  </exec>
 </exec>
 <exec key="USER_ID" minuend="USER_LIST" subtrahend="REMOVE_USER_LIST" to="USER_LIST" type="remove"/>
 <exec from="USER_LIST" type="copy"/>
</event>
