<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec count="1" type="createlist"/>
 <exec type="parallelquery">
  <query value="getAllUsersForTeam"/>
  <query value="getTeamUsers"/>
  <target value="ALL_USERS"/>
  <target value="TEAM_MEMBERS"/>
 </exec>
 <exec argument="ALL_USERS" type="loop">
  <exec type="guard">
   <conditions>
    <condition lhsfield="FIRST_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0}" target="EMPLOYEE_NAME" type="formattext">
    <key value="FIRST_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="MIDDLE_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0} {1}" target="EMPLOYEE_NAME" type="formattext">
    <key value="EMPLOYEE_NAME"/>
    <key value="MIDDLE_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="LAST_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0} {1}" target="EMPLOYEE_NAME" type="formattext">
    <key value="EMPLOYEE_NAME"/>
    <key value="LAST_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="EMPLOYEE_NAME" operator="is empty" rhsvalue=""/>
   </conditions>
   <exec type="guard">
    <conditions>
     <condition lhsfield="EMPLOYEE_ID" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec from="EMPLOYEE_ID" to="EMPLOYEE_NAME" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="EMPLOYEE_ID" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="USER_ID" to="EMPLOYEE_NAME" type="copy"/>
   </exec>
  </exec>
 </exec>
 <exec argument="TEAM_MEMBERS" type="loop">
  <exec type="guard">
   <conditions>
    <condition lhsfield="FIRST_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0}" target="EMPLOYEE_NAME" type="formattext">
    <key value="FIRST_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="MIDDLE_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0} {1}" target="EMPLOYEE_NAME" type="formattext">
    <key value="EMPLOYEE_NAME"/>
    <key value="MIDDLE_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="LAST_NAME" operator="is not empty" rhsvalue=""/>
   </conditions>
   <exec message="{0} {1}" target="EMPLOYEE_NAME" type="formattext">
    <key value="EMPLOYEE_NAME"/>
    <key value="LAST_NAME"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="EMPLOYEE_NAME" operator="is empty" rhsvalue=""/>
   </conditions>
   <exec type="guard">
    <conditions>
     <condition lhsfield="EMPLOYEE_ID" operator="is not empty" rhsvalue=""/>
    </conditions>
    <exec from="EMPLOYEE_ID" to="EMPLOYEE_NAME" type="copy"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="EMPLOYEE_ID" operator="is empty" rhsvalue=""/>
    </conditions>
    <exec from="USER_ID" to="EMPLOYEE_NAME" type="copy"/>
   </exec>
  </exec>
 </exec>
 <exec statement="getTeam" type="select"/>
 <exec from="CODE" key="CODE" type="copyintolist"/>
 <exec from="DESCRIPTION" key="DESCRIPTION" type="copyintolist"/>
 <exec from="TEAM_LEADER" key="TEAM_LEADER" type="copyintolist"/>
 <exec from="DISABLE" key="DISABLE" type="copyintolist"/>
 <exec from="ALL_USERS" key="ALL_USERS" type="copyintolist"/>
 <exec from="TEAM_MEMBERS" key="TEAM_MEMBERS" type="copyintolist"/>
</event>
