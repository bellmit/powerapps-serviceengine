<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<event transactional="false" type="event">
 <exec from="PROCESS_TYPE_ID" key="PROCESS_TYPE_ID" to="DIVIDED_IN_PROGRESS_ACCOUNTS" type="copyintolist"/>
 <exec from="TYPE_STATUS_ID" key="TYPE_STATUS_ID" to="DIVIDED_IN_PROGRESS_ACCOUNTS" type="copyintolist"/>
 <exec from="PROCESS_CODE" key="PROCESS_CODE" to="DIVIDED_IN_PROGRESS_ACCOUNTS" type="copyintolist"/>
 <exec statement="getWltWipType" type="select"/>
 <exec from="WIP_TYPE_CODE" key="WIP_TYPE_CODE" to="DIVIDED_IN_PROGRESS_ACCOUNTS" type="copyintolist"/>
 <exec argument="DIVIDED_IN_PROGRESS_ACCOUNTS" type="loop">
  <exec type="guard">
   <conditions>
    <condition lhsfield="WIP_TYPE_CODE" operator="=" rhsvalue="treatment_related"/>
   </conditions>
   <exec argument="ACCOUNT_LIST" query="getWipAccountsForWorkListByTypeStatus" type="query"/>
   <exec type="guard">
    <conditions>
     <condition lhsfield="PROCESS_CODE" operator="=" rhsvalue="repo"/>
    </conditions>
    <exec argument="TLAST_REPO_ACCOUNT_LIST" query="getWipRepoAccountsForWorkList" type="query"/>
    <exec from="TLAST_REPO_ACCOUNT_LIST" to="ACCOUNT_LIST" type="append"/>
   </exec>
   <exec type="guard">
    <conditions>
     <condition lhsfield="PROCESS_CODE" operator="=" rhsvalue="shortfall"/>
    </conditions>
    <exec argument="TLAST_SHORTFALL_ACCOUNT_LIST" query="getWipShortFallAccountsForWorkList" type="query"/>
    <exec from="TLAST_SHORTFALL_ACCOUNT_LIST" to="ACCOUNT_LIST" type="append"/>
   </exec>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="WIP_TYPE_CODE" operator="=" rhsvalue="pdc"/>
   </conditions>
   <exec argument="ACCOUNT_LIST" query="getWipPdcAccountsForWorkList" type="query"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="WIP_TYPE_CODE" operator="=" rhsvalue="si"/>
   </conditions>
   <exec argument="ACCOUNT_LIST" query="getWipSIAccountsForWorkList" type="query"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="WIP_TYPE_CODE" operator="=" rhsvalue="oca"/>
   </conditions>
   <exec argument="ACCOUNT_LIST" query="getWipOcaAccountsForWorkList" type="query"/>
  </exec>
  <exec type="guard">
   <conditions>
    <condition lhsfield="WIP_TYPE_CODE" operator="=" rhsvalue="all"/>
   </conditions>
   <exec argument="WIP_ACCOUNT_RESULT_LIST" query="getWipAccountsForWorkListByTypeStatus" type="query"/>
   <exec text="OCA Accounts" type="comment">
    <exec argument="OCA_ACCOUNT_RESULT_LIST" query="getWipOcaAccountsForWorkList" type="query"/>
   </exec>
   <exec text="PDC" type="comment">
    <exec argument="PDC_ACCOUNT_RESULT_LIST" query="getWipPdcAccountsForWorkList" type="query"/>
   </exec>
   <exec text="SI" type="comment">
    <exec argument="SI_ACCOUNT_RESULT_LIST" query="getWipSIAccountsForWorkList" type="query"/>
   </exec>
   <exec text="Repo" type="comment">
    <exec argument="TLAST_REPO_ACCOUNT_LIST" query="getWipRepoAccountsForWorkList" type="query"/>
   </exec>
   <exec text="Shortfall" type="comment">
    <exec argument="TLAST_SHORTFALL_ACCOUNT_LIST" query="getWipShortFallAccountsForWorkList" type="query"/>
   </exec>
   <exec from="OCA_ACCOUNT_RESULT_LIST" to="ACCOUNT_LIST" type="append"/>
   <exec from="WIP_ACCOUNT_RESULT_LIST" to="ACCOUNT_LIST" type="append"/>
   <exec from="PDC_ACCOUNT_RESULT_LIST" to="ACCOUNT_LIST" type="append"/>
   <exec from="SI_ACCOUNT_RESULT_LIST" to="ACCOUNT_LIST" type="append"/>
   <exec from="TLAST_REPO_ACCOUNT_LIST" to="ACCOUNT_LIST" type="append"/>
   <exec from="TLAST_SHORTFALL_ACCOUNT_LIST" to="ACCOUNT_LIST" type="append"/>
  </exec>
 </exec>
</event>
